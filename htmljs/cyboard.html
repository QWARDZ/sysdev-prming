<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CYBOARD</title>
</head>
<body>
    <h1>CYBOARD - Boarding House Finder</h1>
    <p>Find boarding houses in Iloilo City</p>
    <h2>Search Boarding Houses</h2>
    Location: 
    <select id="loc">
        <option value="">All</option>
        <option value="Jaro">Jaro</option>
        <option value="La Paz">La Paz</option>
        <option value="Molo">Molo</option>
    </select>

    Max Price: <input type="number" id="price">
    <button onclick="search()">Search</button>

    <h3>Results:</h3>
    <div id="results"></div> <hr>
    <h2>Add Boarding House</h2>
    Name: <input type="text" id="name"><br>
    Location: 
    <select id="newloc">
        <option value="Jaro">Jaro</option>
        <option value="La Paz">La Paz</option>
        <option value="Molo">Molo</option>
    </select><br>
    Price: <input type="number" id="newprice"><br>
    Owner: <input type="text" id="owner"><br>
    Contact: <input type="text" id="contact"><br>
    <button onclick="add()">Add</button>

    <script>
        let houses = [];
//**************************************************************************
        function show() {
            let text = "";
            if(houses.length == 0) {
                text = "No boarding houses yet";
            } else {
                for(let i = 0; i < houses.length; i++) {
                    text += "<p><b>" + houses[i][0] + "</b><br>";
                    text += "Location: " + houses[i][1] + "<br>";
                    text += "Price: P" + houses[i][2] + "<br>";
                    text += "Owner: " + houses[i][3] + "<br>";
                    text += "Contact: " + houses[i][4] + "</p>";
                }
            }
            document.getElementById("results").innerHTML = text;
        }
//**************************************************************************
        function search() {
            let location = document.getElementById("loc").value;
            let maxprice = document.getElementById("price").value;
            let text = "";
            
            for(let i = 0; i < houses.length; i++) {
                let ok = true;
                if(location != "" && houses[i][1] != location) ok = false;
                if(maxprice != "" && houses[i][2] > maxprice) ok = false;
                
                if(ok) {
                    text += "<p><b>" + houses[i][0] + "</b><br>";
                    text += "Location: " + houses[i][1] + "<br>";
                    text += "Price: P" + houses[i][2] + "<br>";
                    text += "Owner: " + houses[i][3] + "<br>";
                    text += "Contact: " + houses[i][4] + "</p>";
                }
            }
            if(text == "") text = "No houses found";
            document.getElementById("results").innerHTML = text;
        }
//**************************************************************************
        function add() {
            let name = document.getElementById("name").value;
            let loc = document.getElementById("newloc").value;
            let price = document.getElementById("newprice").value;
            let owner = document.getElementById("owner").value;
            let contact = document.getElementById("contact").value;
            
            if(name != "" && loc != "" && price != "" && owner != "" && contact != "") {
                houses.push([name, loc, price, owner, contact]);
                alert("House added!");
                show();
                
                document.getElementById("name").value = "";
                document.getElementById("newprice").value = "";
                document.getElementById("owner").value = "";
                document.getElementById("contact").value = "";
            } else {
                alert("Please fill all fields");
            }
        }
        show();
    </script>
</body>
</html>